{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\thism\\\\Desktop\\\\Project-Pomodoro-Clock\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _objectSpread from\"C:\\\\Users\\\\thism\\\\Desktop\\\\Project-Pomodoro-Clock\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import React,{useState}from\"react\";import useInterval from\"../utils/useInterval\";import BreakTime from\"./BreakTime\";import FocusTime from\"./FocusTime\";import Subtitle from\"./Subtitle\";import Timer from\"./Timer\";// These functions are defined outside of the component to insure they do not have access to state\n// and are, therefore more likely to be pure.\n/**\n * Update the session state with new state after each tick of the interval.\n * @param prevState\n *  the previous session state\n * @returns\n *  new session state with timing information updated.\n */function nextTick(prevState){var timeRemaining=Math.max(0,prevState.timeRemaining-1);return _objectSpread(_objectSpread({},prevState),{},{timeRemaining:timeRemaining});}function fmtMSS(s){return(s-(s%=60))/60+(9<s?':':':0')+s;}/**\n * Higher order function that returns a function to update the session state with the next session type upon timeout.\n * @param focusDuration\n *    the current focus duration\n * @param breakDuration\n *    the current break duration\n * @returns\n *  function to update the session state.\n */function nextSession(focusDuration,breakDuration){/**\n   * State function to transition the current session type to the next session. e.g. On Break -> Focusing or Focusing -> On Break\n   */return function(currentSession){if(currentSession.label===\"Focusing\"){return{label:\"On Break\",timeRemaining:breakDuration*60};}return{label:\"Focusing\",timeRemaining:focusDuration*60};};}export default function Pomodoro(){//State\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),isTimerRunning=_useState2[0],setIsTimerRunning=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),session=_useState4[0],setSession=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),elapsed=_useState6[0],setElapsed=_useState6[1];var _useState7=useState(25),_useState8=_slicedToArray(_useState7,2),focusDuration=_useState8[0],setFocusDuration=_useState8[1];var _useState9=useState(5),_useState10=_slicedToArray(_useState9,2),breakDuration=_useState10[0],setBreakDuration=_useState10[1];var _useState11=useState(0),_useState12=_slicedToArray(_useState11,2),aria=_useState12[0],setAria=_useState12[1];var _useState13=useState(0),_useState14=_slicedToArray(_useState13,2),breakLeft=_useState14[0],setBreakLeft=_useState14[1];//Handlers\nvar increaseFocusTime=function increaseFocusTime(){setFocusDuration(function(lastFocusDuration){return Math.min(60,lastFocusDuration+5);});};var decreaseFocusTime=function decreaseFocusTime(){setFocusDuration(function(lastFocusDuration){return Math.max(5,lastFocusDuration-5);});};var increaseBreakTime=function increaseBreakTime(){setBreakDuration(function(lastBreakDuration){return Math.min(15,lastBreakDuration+1);});};var decreaseBreakTime=function decreaseBreakTime(){setBreakDuration(function(lastBreakDuration){return Math.max(1,lastBreakDuration-1);});};var stopButtonHandler=function stopButtonHandler(){setSession(null);setIsTimerRunning(false);setElapsed(0);};useInterval(function(){setBreakLeft(breakLeft+1);if(session.timeRemaining===0){new Audio(\"https://bigsoundbank.com/UPLOAD/mp3/1482.mp3\").play();setSession(nextSession(focusDuration,breakDuration));}setSession(nextTick);var left=session.timeRemaining;if(session.label===\"Focusing\"){setAria(100*(focusDuration*60-left)/(focusDuration*60));}else{setAria(100*(breakDuration*60-left)/(breakDuration*60));}},isTimerRunning?1000:null);useInterval(function(){if(session&&session.timeRemaining){return setElapsed(elapsed+1);}},1000);function playPause(){setIsTimerRunning(function(prevState){var nextState=!prevState;if(nextState){setSession(function(prevStateSession){if(prevStateSession===null){return{label:\"Focusing\",timeRemaining:focusDuration*60};}return prevStateSession;});}return nextState;});}return/*#__PURE__*/React.createElement(\"div\",{className:\"pomodoro\"},/*#__PURE__*/React.createElement(\"link\",{rel:\"stylesheet\",href:\"https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css\",integrity:\"sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z\",crossorigin:\"anonymous\"}),/*#__PURE__*/React.createElement(\"link\",{rel:\"stylesheet\",href:\"https://cdnjs.cloudflare.com/ajax/libs/open-iconic/1.1.1/font/css/open-iconic-bootstrap.min.css\",integrity:\"sha512-UyNhw5RNpQaCai2EdC+Js0QL4RlVmiq41DkmCJsRV3ZxipG2L0HhTqIf/H9Hp8ez2EnFlkBnjRGJU2stW3Lj+w==\",crossorigin:\"anonymous\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(FocusTime,{focusDuration:focusDuration,increaseFocusTime:increaseFocusTime,decreaseFocusTime:decreaseFocusTime})),/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"div\",{className:\"float-right\"},/*#__PURE__*/React.createElement(BreakTime,{breakDuration:breakDuration,increaseBreakTime:increaseBreakTime,decreaseBreakTime:decreaseBreakTime})))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(Timer,{playPause:playPause,isTimerRunning:isTimerRunning,stopButtonHandler:stopButtonHandler}))),/*#__PURE__*/React.createElement(Subtitle,{aria:aria,session:session,focusDuration:focusDuration,breakDuration:breakDuration,fmtMSS:fmtMSS}));}","map":{"version":3,"sources":["C:/Users/thism/Desktop/Project-Pomodoro-Clock/src/pomodoro/Pomodoro.js"],"names":["React","useState","useInterval","BreakTime","FocusTime","Subtitle","Timer","nextTick","prevState","timeRemaining","Math","max","fmtMSS","s","nextSession","focusDuration","breakDuration","currentSession","label","Pomodoro","isTimerRunning","setIsTimerRunning","session","setSession","elapsed","setElapsed","setFocusDuration","setBreakDuration","aria","setAria","breakLeft","setBreakLeft","increaseFocusTime","lastFocusDuration","min","decreaseFocusTime","increaseBreakTime","lastBreakDuration","decreaseBreakTime","stopButtonHandler","Audio","play","left","playPause","nextState","prevStateSession"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport useInterval from \"../utils/useInterval\";\nimport BreakTime from \"./BreakTime\";\nimport FocusTime from \"./FocusTime\";\nimport Subtitle from \"./Subtitle\";\nimport Timer from \"./Timer\"; \n\n// These functions are defined outside of the component to insure they do not have access to state\n// and are, therefore more likely to be pure.\n\n/**\n * Update the session state with new state after each tick of the interval.\n * @param prevState\n *  the previous session state\n * @returns\n *  new session state with timing information updated.\n */\nfunction nextTick(prevState) {\n  const timeRemaining = Math.max(0, prevState.timeRemaining - 1);\n  return {\n    ...prevState,\n    timeRemaining,\n  };\n}\n\nfunction fmtMSS(s){return(s-(s%=60))/60+(9<s?':':':0')+s}\n/**\n * Higher order function that returns a function to update the session state with the next session type upon timeout.\n * @param focusDuration\n *    the current focus duration\n * @param breakDuration\n *    the current break duration\n * @returns\n *  function to update the session state.\n */\nfunction nextSession(focusDuration, breakDuration) {\n  /**\n   * State function to transition the current session type to the next session. e.g. On Break -> Focusing or Focusing -> On Break\n   */\n  return (currentSession) => {\n    if (currentSession.label === \"Focusing\") {\n      return {\n        label: \"On Break\",\n        timeRemaining: breakDuration * 60,\n      };\n    }\n    return {\n      label: \"Focusing\",\n      timeRemaining: focusDuration * 60,\n    };\n  };\n}\n\n\nexport default function Pomodoro() {\n  \n  //State\n  const [isTimerRunning, setIsTimerRunning] = useState(false);\n  const [session, setSession] = useState(null);\n  const [elapsed, setElapsed] = useState(0)\n  const [focusDuration, setFocusDuration] = useState(25);\n  const [breakDuration, setBreakDuration] = useState(5);\n  const [aria, setAria] = useState(0);\n  const [breakLeft, setBreakLeft] = useState(0);\n  \n  \n  //Handlers\n  const increaseFocusTime = () => {\n    setFocusDuration((lastFocusDuration) => Math.min(60, lastFocusDuration + 5));\n  }\n\n  \n  const decreaseFocusTime = () => {\n    setFocusDuration((lastFocusDuration) => Math.max(5, lastFocusDuration - 5));\n  }\n\n  \n  const increaseBreakTime = () => {\n    setBreakDuration((lastBreakDuration) => Math.min(15, lastBreakDuration + 1));\n  }\n\n  \n  const decreaseBreakTime = () => {\n    setBreakDuration((lastBreakDuration) => Math.max(1, lastBreakDuration - 1));\n  }\n\n  \n  const stopButtonHandler = () => {\n    setSession(null);\n    setIsTimerRunning(false);\n    setElapsed(0);\n  }\n  \n  \n  useInterval(() => {\n      setBreakLeft(breakLeft + 1)\n      if (session.timeRemaining === 0) {\n        new Audio(\"https://bigsoundbank.com/UPLOAD/mp3/1482.mp3\").play();\n        setSession(nextSession(focusDuration, breakDuration));\n      }\n      setSession(nextTick);    \n    const left = session.timeRemaining\n    if(session.label === \"Focusing\") {\n      setAria(100*(focusDuration * 60 - left)/(focusDuration*60))\n    } else {\n      setAria(100*(breakDuration * 60 - left)/(breakDuration*60))\n    }\n    }, \n    isTimerRunning ? 1000 : null\n  );\n  \n\n useInterval(()=> {\n   if(session && session.timeRemaining) {\n     return setElapsed(elapsed + 1)\n   }\n }, 1000)\n\n  \n  function playPause() {\n    setIsTimerRunning((prevState) => {\n      const nextState = !prevState;\n      if (nextState) {\n        setSession((prevStateSession) => {\n\n          if (prevStateSession === null) {\n            return {\n              label: \"Focusing\",\n              timeRemaining: focusDuration * 60,\n            };\n          }\n          return prevStateSession;\n        });\n      }\n      return nextState;\n    });\n  }\n\n  \n  return (\n    <div className=\"pomodoro\">\n      <link\n        rel=\"stylesheet\"\n        href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css\"\n        integrity=\"sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z\"\n        crossorigin=\"anonymous\"\n      />\n      <link\n        rel=\"stylesheet\"\n        href=\"https://cdnjs.cloudflare.com/ajax/libs/open-iconic/1.1.1/font/css/open-iconic-bootstrap.min.css\"\n        integrity=\"sha512-UyNhw5RNpQaCai2EdC+Js0QL4RlVmiq41DkmCJsRV3ZxipG2L0HhTqIf/H9Hp8ez2EnFlkBnjRGJU2stW3Lj+w==\"\n        crossorigin=\"anonymous\"\n      />\n      <div className=\"row\">\n        <div className=\"col\">\n          <FocusTime\n            focusDuration={focusDuration} \n            increaseFocusTime={increaseFocusTime}\n            decreaseFocusTime={decreaseFocusTime}\n          />\n        </div>\n        <div className=\"col\">\n          <div className=\"float-right\">\n            <BreakTime \n              breakDuration={breakDuration}\n              increaseBreakTime={increaseBreakTime}\n              decreaseBreakTime={decreaseBreakTime}\n          />\n          </div>\n        </div>\n      </div>\n      <div className=\"row\">\n        <div className=\"col\">\n          <Timer \n            playPause={playPause}\n            isTimerRunning={isTimerRunning}\n            stopButtonHandler={stopButtonHandler}\n          />\n        </div>\n      </div>\n      <Subtitle \n        aria={aria}\n        session={session}\n        focusDuration={focusDuration}\n        breakDuration={breakDuration}\n        fmtMSS={fmtMSS}\n      />\n    </div>\n  );\n}\n\n"]},"metadata":{},"sourceType":"module"}